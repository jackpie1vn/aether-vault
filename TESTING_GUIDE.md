# 🧪 VeilArt 完整测试指南

**测试环境**: Sepolia 测试网
**合约地址**: `0xCe384F1Ec5B35F0856e2d2669b87F017aCF731AE`
**访问地址**: http://localhost:8084/

---

## 📋 测试准备

### 1. 环境检查

- [ ] MetaMask 已安装
- [ ] 切换到 Sepolia 测试网
- [ ] 钱包有测试 ETH（至少 0.05 ETH）
- [ ] 开发服务器运行中

### 2. 快速检查

```bash
# 确认服务器运行
访问: http://localhost:8084/

# 确认合约地址配置
检查: .env.local 文件中的 VITE_CONTRACT_ADDRESS
```

---

## 🎯 完整测试流程

### 测试场景 1: 首次使用完整流程

#### 1.1 首页浏览（不连接钱包）

1. **访问首页**
   ```
   http://localhost:8084/
   ```

2. **检查点**:
   - [ ] 页面正常加载
   - [ ] 导航栏显示 "Connect Wallet" 按钮
   - [ ] 可以看到所有提交的作品（如果有）
   - [ ] 作品卡片显示标题、类别、标签

#### 1.2 连接钱包

1. **点击导航栏 "Connect Wallet" 按钮**

2. **检查点**:
   - [ ] MetaMask 弹出窗口
   - [ ] 选择账户后点击"连接"
   - [ ] 导航栏显示钱包地址（0x1234...5678）
   - [ ] 按钮变为绿色边框样式

3. **可能的问题**:
   - 如果没反应 → 刷新页面重试
   - 如果 MetaMask 未弹出 → 检查浏览器是否阻止弹窗

#### 1.3 提交作品

1. **访问 Submit 页面**
   ```
   点击导航栏 "Submit" 或访问 /submit
   ```

2. **填写表单**:
   - Title: "Test Artwork 1"
   - Description: "This is a test artwork"
   - File: 选择任意图片
   - Tags: 输入 "test", "demo", "art"（回车添加）
   - Categories: 选择 "Digital Art", "Abstract"

3. **提交作品**:
   - [ ] 点击 "Submit Artwork" 按钮
   - [ ] MetaMask 弹出交易确认
   - [ ] 确认交易（Gas 费约 0.002-0.004 ETH）
   - [ ] 等待交易确认（10-30 秒）

4. **检查结果**:
   - [ ] 看到成功提示 "Artwork submitted!"
   - [ ] 显示 Entry ID
   - [ ] 可以复制交易哈希到 Etherscan 查看

5. **在 Etherscan 验证**:
   ```
   https://sepolia.etherscan.io/tx/[交易哈希]
   ```
   - [ ] 交易状态为 "Success"
   - [ ] 可以看到事件日志

#### 1.4 查看提交的作品

1. **返回首页**
   ```
   点击导航栏 "Explore" 或访问 /
   ```

2. **检查点**:
   - [ ] 看到刚才提交的作品
   - [ ] 作品卡片显示正确的标题
   - [ ] 显示正确的标签和类别

#### 1.5 查看作品详情

1. **点击作品卡片**

2. **检查点**:
   - [ ] 进入作品详情页
   - [ ] 显示完整信息（标题、作者、时间、标签、类别）
   - [ ] 显示 "Connect wallet to rate and vote" 提示
   - [ ] 显示评分和投票按钮

#### 1.6 评分和投票

1. **给作品评分**:
   - [ ] 点击评分按钮（任意星级）
   - [ ] MetaMask 弹出确认
   - [ ] 确认交易
   - [ ] 看到成功提示

2. **给作品投票**:
   - [ ] 选择一个类别（如 "Digital Art"）
   - [ ] 点击 "Vote" 按钮
   - [ ] MetaMask 弹出确认
   - [ ] 确认交易
   - [ ] 看到成功提示

#### 1.7 查看我的作品

1. **访问 My Submissions 页面**
   ```
   点击导航栏 "My Works" 或访问 /my-submissions
   ```

2. **检查点**:
   - [ ] 看到自己提交的所有作品
   - [ ] Total Submissions 显示正确数量
   - [ ] Total Scores 和 Total Votes 显示加密状态（••••）
   - [ ] 看到说明卡片解释为什么是加密的

---

### 测试场景 2: 多作品测试

#### 2.1 提交多个作品

重复提交 3-5 个作品，使用不同的：
- 标题
- 类别
- 标签

#### 2.2 验证显示

1. **首页**:
   - [ ] 所有作品都显示
   - [ ] 按时间排序（最新的在前）

2. **My Submissions**:
   - [ ] 只显示自己的作品
   - [ ] 总数正确

---

### 测试场景 3: 多账户测试

#### 3.1 切换账户

1. **在 MetaMask 切换到另一个账户**

2. **检查点**:
   - [ ] 导航栏自动更新显示新地址
   - [ ] My Submissions 显示新账户的作品

#### 3.2 跨账户交互

1. **用账户 A 提交作品**
2. **切换到账户 B**
3. **对账户 A 的作品进行评分和投票**

4. **检查点**:
   - [ ] 可以成功评分和投票
   - [ ] 交易确认成功

---

### 测试场景 4: Leaderboard 测试

#### 4.1 访问 Leaderboard

1. **点击导航栏 "Leaderboard"**

2. **检查点**:
   - [ ] 页面正常加载
   - [ ] 显示所有类别按钮
   - [ ] 默认选中 "Digital Art"

#### 4.2 切换类别

1. **点击不同的类别按钮**:
   - Photography
   - 3D Art
   - Illustration
   - 等等...

2. **检查点**:
   - [ ] 按钮可以点击
   - [ ] 选中的按钮有渐变背景
   - [ ] "Currently viewing" 文字更新
   - [ ] 浏览器控制台显示点击日志

3. **验证**:
   ```javascript
   // 打开浏览器控制台（F12）
   // 点击类别时应该看到：
   Clicked category: Photography
   Clicked category: 3D Art
   ```

---

## 🐛 常见问题测试

### 问题 1: 钱包连接不上

**测试步骤**:
1. 刷新页面
2. 确认 MetaMask 解锁
3. 检查网络是否为 Sepolia
4. 重新点击 "Connect Wallet"

**预期**: 应该能成功连接

### 问题 2: 交易失败

**测试步骤**:
1. 检查 Gas 费用是否充足
2. 在 Etherscan 查看失败原因
3. 检查合约地址是否正确

**预期**: 交易应该成功

### 问题 3: 看不到作品

**测试步骤**:
1. 确认交易已确认
2. 刷新页面
3. 检查浏览器控制台错误

**预期**: 交易确认后应该能看到作品

---

## ✅ 功能检查清单

### 导航栏
- [ ] "Connect Wallet" 按钮正常工作
- [ ] 连接后显示钱包地址
- [ ] 账户切换自动更新
- [ ] 所有导航链接正常工作

### 首页
- [ ] 显示所有作品
- [ ] 作品卡片信息完整
- [ ] 可以点击进入详情
- [ ] 未连接钱包也能浏览

### Submit 页面
- [ ] 表单验证正常
- [ ] 标签输入工作
- [ ] 类别多选工作
- [ ] 提交成功后有提示
- [ ] 显示 Entry ID

### 作品详情页
- [ ] 显示完整信息
- [ ] 评分按钮工作
- [ ] 投票按钮工作
- [ ] IPFS 链接工作
- [ ] 加密数据显示

### My Submissions 页面
- [ ] 需要连接钱包
- [ ] 只显示自己的作品
- [ ] 统计数量正确
- [ ] 有加密说明

### Leaderboard 页面
- [ ] 类别切换工作
- [ ] 显示排名信息
- [ ] UI 响应正确

---

## 📊 性能测试

### 加载速度
- [ ] 首页加载 < 2 秒
- [ ] 页面切换流畅
- [ ] 图片加载正常

### 交易速度
- [ ] 提交作品 < 30 秒
- [ ] 评分 < 20 秒
- [ ] 投票 < 20 秒

### 网络请求
- [ ] 合约调用成功
- [ ] 错误处理正常
- [ ] 加载状态显示

---

## 🎨 UI/UX 测试

### 响应式设计
- [ ] 桌面端显示正常
- [ ] 移动端适配良好
- [ ] 不同尺寸屏幕正常

### 交互反馈
- [ ] 按钮悬停效果
- [ ] 点击反馈
- [ ] 加载状态显示
- [ ] 错误提示清晰

### 视觉效果
- [ ] 渐变效果正常
- [ ] 动画流畅
- [ ] 颜色搭配合理
- [ ] 文字可读性好

---

## 🔒 安全测试

### 钱包安全
- [ ] 只请求必要权限
- [ ] 交易前有确认
- [ ] 显示 Gas 费用
- [ ] 不自动执行交易

### 数据隐私
- [ ] 评分加密
- [ ] 投票加密
- [ ] 权限控制正确
- [ ] 只有授权用户可解密

---

## 📝 测试记录模板

```markdown
## 测试日期: ___________
## 测试人员: ___________
## 钱包地址: 0x___________
## 网络: Sepolia

### 测试结果

1. 连接钱包: ✅ / ❌
2. 提交作品: ✅ / ❌
   - Entry ID: _______
   - 交易哈希: _______
3. 查看作品: ✅ / ❌
4. 评分功能: ✅ / ❌
5. 投票功能: ✅ / ❌
6. My Submissions: ✅ / ❌
7. Leaderboard: ✅ / ❌

### 发现的问题

1. _______________________
2. _______________________
3. _______________________

### 建议改进

1. _______________________
2. _______________________
3. _______________________
```

---

## 🎯 关键测试点

### 必须通过的测试

1. **钱包连接** - 核心功能
2. **作品提交** - 核心功能
3. **评分投票** - 核心功能
4. **数据加密** - 安全特性

### 重要但非阻塞的测试

1. UI 美观度
2. 加载速度优化
3. 错误提示优化
4. Leaderboard 功能

---

## 📚 相关文档

- [DEPLOYMENT_SUCCESS.md](DEPLOYMENT_SUCCESS.md) - 部署信息
- [WALLET_CONNECTION_FIX.md](WALLET_CONNECTION_FIX.md) - 钱包连接修复
- [LEADERBOARD_TAB_FIX.md](LEADERBOARD_TAB_FIX.md) - Leaderboard 修复
- [MY_SUBMISSIONS_STATS_FIX.md](MY_SUBMISSIONS_STATS_FIX.md) - 统计数据说明

---

## 🎉 测试完成

完成所有测试后：

1. **记录结果** - 填写测试记录
2. **报告问题** - 记录发现的 bug
3. **提出建议** - 改进建议
4. **庆祝成功** - 🎊

---

**测试环境**: Sepolia Testnet
**合约地址**: 0xCe384F1Ec5B35F0856e2d2669b87F017aCF731AE
**开始测试**: http://localhost:8084/

祝测试顺利！🚀
